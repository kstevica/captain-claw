# Captain Claw Configuration
# https://github.com/captain-claw/captain-claw

# Model Configuration
model:
  provider: "ollama"  # ollama, openai/chatgpt, anthropic/claude, gemini/google
  model: "minimax-m2.5:cloud"  # model name (provider-native name or prefixed like openai/gpt-4o-mini)
  temperature: 0.7  # creativity (0-1)
  max_tokens: 32000  # max response length
  # api_key: ""  # optional; can also be set via env (OPENAI_API_KEY, ANTHROPIC_API_KEY, GOOGLE_API_KEY)
  # base_url: ""  # optional API base URL override (for hosted gateways / custom endpoints)
  allowed:
    - id: "ollama-cloud"
      provider: "ollama"
      model: "minimax-m2.5:cloud"
    - id: "gpt-5-mini"
      provider: "openai"
      model: "gpt-5-mini"
    - id: "gpt-5.1-codex"
      provider: "openai"
      model: "gpt-5.1-codex"
    - id: "claude-sonnet"
      provider: "anthropic"
      model: "claude-3-5-sonnet-latest"
    - id: "gemini-flash"
      provider: "gemini"
      model: "gemini-2.0-flash"

# Context Settings
context:
  max_tokens: 160000  # leave room for response
  compaction_threshold: 0.8  # trigger compaction at 80%
  compaction_ratio: 0.4  # keep 40% after compaction

# Tool Configuration
tools:
  enabled:
    - shell
    - read
    - write
    - glob
    - web_fetch
  web_fetch:
    max_chars: 100000  # default returned characters (can override per call)
  shell:
    timeout: 30  # seconds
    blocked:
      - "rm -rf /"
      - "mkfs"
      - ":(){:|:&};:"
    allowed_commands: []  # empty = all allowed (except blocked)
  require_confirmation:
    - shell
    - write

# Guard Configuration
guards:
  input:
    enabled: false
    level: "ask_for_approval"  # stop_suspicious | ask_for_approval
  output:
    enabled: false
    level: "ask_for_approval"  # stop_suspicious | ask_for_approval
  script_tool:
    enabled: false
    level: "stop_suspicious"  # stop_suspicious | ask_for_approval

# Session Settings
session:
  storage: "sqlite"
  path: "~/.captain-claw/sessions.db"
  auto_save: true

# Workspace output root
workspace:
  path: "./workspace"

# UI Settings
ui:
  theme: "dark"  # dark or light
  show_tokens: true  # show token count
  streaming: true  # stream responses
  colors: true  # use colors

# Logging
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  format: "console"  # console, json
